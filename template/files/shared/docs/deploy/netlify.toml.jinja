{% if docs_deploy_target == 'netlify' %}
# Netlify configuration
# Generated by Riso template (feature: 018-docs-sites-overhaul)
# Documentation: https://docs.netlify.com/configure-builds/file-based-configuration/

[build]
  {% if docs_site == 'sphinx-shibuya' %}
  command = "pip install uv && uv sync --group docs && uv run make -f Makefile.docs docs"
  publish = "_build/html"
  {% elif docs_site == 'fumadocs' %}
  command = "pnpm install && pnpm run build"
  publish = "apps/docs-fumadocs/out"
  {% elif docs_site == 'docusaurus' %}
  command = "pnpm install && pnpm run build"
  publish = "apps/docs-docusaurus/build"
  {% endif %}

[build.environment]
  {% if docs_site == 'sphinx-shibuya' %}
  PYTHON_VERSION = "3.11"
  {% else %}
  NODE_VERSION = "20"
  {% endif %}

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
{% endif %}
