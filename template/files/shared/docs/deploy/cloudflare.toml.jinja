{% if docs_deploy_target == 'cloudflare' %}
# Cloudflare Pages configuration
# Generated by Riso template (feature: 018-docs-sites-overhaul)

name = "{{ project_slug }}-docs"
compatibility_date = "2024-01-01"

[build]
{% if docs_site == 'sphinx-shibuya' %}
command = "pip install uv && uv sync --group docs && uv run make -f Makefile.docs docs"
cwd = "."
destination = "_build/html"
{% elif docs_site == 'fumadocs' %}
command = "pnpm install && pnpm run build"
cwd = "."
destination = "apps/docs-fumadocs/out"
{% elif docs_site == 'docusaurus' %}
command = "pnpm install && pnpm run build"
cwd = "."
destination = "apps/docs-docusaurus/build"
{% endif %}

[build.environment]
{% if docs_site == 'sphinx-shibuya' %}
PYTHON_VERSION = "3.11"
{% else %}
NODE_VERSION = "20"
{% endif %}
{% endif %}
