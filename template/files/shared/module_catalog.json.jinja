{
  "modules": [
    {
      "name": "quality",
      "prompt_key": "quality_profile",
      "default_state": "standard",
      "selected_state": "{{ quality_profile }}",
      "description": "Unified Ruff/Mypy/Pylint/coverage suite with optional Node tooling.",
      "dependencies": ["taskipy", "coverage", "ruff", "mypy", "pylint"],
      "docs_path": "docs/modules/quality.md",
      "ci_jobs": ["python-quality-standard", "python-quality-strict"],
      "validation_commands": [
        "make quality",
        "uv run task quality"
      ]
    },
    {
      "name": "cli",
      "prompt_key": "cli_module",
      "default_state": "disabled",
      "selected_state": "{{ 'enabled' if cli_module | lower == 'enabled' else 'disabled' }}",
      "description": "Typer-powered command-line interface with quickstart automation.",
      "dependencies": ["typer", "loguru", "shared_logic"],
      "docs_path": "docs/modules/cli.md",
      "ci_jobs": ["cli-smoke"],
      "validation_commands": [
        "uv run python -m {{ package_name }}.cli --help",
        "uv run pytest tests/test_cli.py"
      ]
    },
    {
      "name": "api_python",
      "prompt_key": "api_tracks",
      "default_state": "none",
      "selected_state": "{{ api_tracks }}",
      "description": "Production-ready FastAPI application with comprehensive scaffolding, health checks, CRUD examples, and auto-documentation.",
      "dependencies": ["fastapi", "uvicorn", "pydantic", "pydantic-settings", "python-dotenv", "httpx", "pytest-asyncio"],
      "docs_path": "docs/modules/api-fastapi.md",
      "ci_jobs": ["api-python-smoke", "api-python-integration"],
      "validation_commands": [
        "uv run pytest tests/api/",
        "uv run uvicorn {{ package_name }}.api.main:app --host 0.0.0.0 --port 8000"
      ],
      "features": [
        "Modular routing with APIRouter",
        "Pydantic models for request/response validation",
        "Environment-based configuration with validation",
        "Health check endpoints (/health/, /health/ready, /health/live)",
        "Example CRUD endpoints with pagination",
        "CORS middleware configuration",
        "Global error handlers with request tracing",
        "Auto-generated OpenAPI documentation (Swagger UI, ReDoc)",
        "Comprehensive test suite with TestClient",
        "Docker support with multi-stage builds and health checks"
      ]
    },
    {
      "name": "api_node",
      "prompt_key": "api_tracks",
      "default_state": "none",
      "selected_state": "{{ api_tracks }}",
      "description": "Fastify service with shared logic wiring and Vitest smoke tests.",
      "dependencies": ["pnpm", "fastify", "shared_logic"],
      "docs_path": "docs/modules/api-node.md",
      "ci_jobs": ["api-node-smoke"],
      "validation_commands": [
        "pnpm --filter api-node install",
        "pnpm --filter api-node test"
      ]
    },
    {
      "name": "graphql_api",
      "prompt_key": "graphql_api_module",
      "default_state": "disabled",
      "selected_state": "{{ 'enabled' if graphql_api_module | lower == 'enabled' else 'disabled' }}",
      "description": "Strawberry GraphQL API with DataLoaders, mutations, subscriptions, pagination, and security controls.",
      "dependencies": ["strawberry-graphql", "fastapi", "httpx", "aiodataloader"],
      "docs_path": "docs/modules/graphql.md",
      "ci_jobs": ["graphql-api-smoke"],
      "validation_commands": [
        "uv run pytest tests/graphql/",
        "uv run uvicorn {{ package_name }}.graphql_api.main:app --host 0.0.0.0 --port 8000"
      ],
      "features": [
        "Flexible field selection (query only what you need)",
        "Interactive GraphQL playground with schema explorer",
        "DataLoader optimization (N+1 query prevention)",
        "Mutations for create/update/delete operations",
        "Real-time subscriptions via WebSocket",
        "Cursor and offset-based pagination",
        "Query depth limiting (max 15 levels)",
        "Query complexity analysis (max 5000 points)",
        "Per-field authentication and authorization",
        "Comprehensive error handling with validation"
      ]
    },
    {
      "name": "mcp_module",
      "prompt_key": "mcp_module",
      "default_state": "disabled",
      "selected_state": "{{ 'enabled' if mcp_module | lower == 'enabled' else 'disabled' }}",
      "description": "FastMCP tooling scaffold with sample tools and contracts.",
      "dependencies": ["fastmcp"],
      "docs_path": "docs/modules/mcp.md",
      "ci_jobs": ["mcp-smoke"],
      "validation_commands": [
        "uv run python -c \"from shared.mcp import tooling; print(tooling.list_tools())\""
      ]
    },
    {
      "name": "websocket_module",
      "prompt_key": "websocket_module",
      "default_state": "disabled",
      "selected_state": "{{ 'enabled' if websocket_module | lower == 'enabled' else 'disabled' }}",
      "description": "WebSocket real-time communication with connection management, heartbeats, broadcasting, and authentication.",
      "dependencies": ["fastapi", "websockets", "python-jose"],
      "docs_path": "docs/modules/websockets.md",
      "ci_jobs": ["websocket-smoke"],
      "validation_commands": [
        "uv run python -c \"from {{ package_name }}.websocket import ConnectionManager; print('WebSocket module loaded')\"",
        "uv run pytest tests/websocket/ -v"
      ],
      "features": [
        "Connection lifecycle management with automatic cleanup",
        "Heartbeat/ping-pong mechanism for connection health (30s interval, 60s timeout)",
        "Room-based broadcasting for multi-client scenarios",
        "Authentication integration with FastAPI dependencies",
        "Rate limiting (100 messages per 60s window, configurable)",
        "Backpressure handling with bounded message queues",
        "Comprehensive error handling and structured error responses",
        "Testing utilities and pytest fixtures",
        "Support for 10,000+ concurrent connections with <50ms latency"
      ]
    },
    {
      "name": "docs_site",
      "prompt_key": "docs_site",
      "default_state": "starter-guide",
      "selected_state": "{{ docs_site }}",
      "description": "Fumadocs/Next.js documentation experience for TypeScript consumers.",
      "dependencies": ["pnpm", "next", "fumadocs"],
      "docs_path": "docs/modules/docs-site.md",
      "ci_jobs": ["docs-site-build"],
      "validation_commands": [
        "pnpm --filter docs-fumadocs install",
        "pnpm --filter docs-fumadocs build"
      ]
    },
    {
      "name": "shared_logic",
      "prompt_key": "shared_logic",
      "default_state": "disabled",
      "selected_state": "{{ 'enabled' if shared_logic | lower == 'enabled' else 'disabled' }}",
      "description": "Reusable logic helpers consumed by CLI and API modules.",
      "dependencies": [],
      "docs_path": "docs/modules/shared-logic.md",
      "ci_jobs": ["shared-logic-smoke"],
      "validation_commands": [
        "uv run python -c \"from shared.logic import summarize_payload; print(summarize_payload({'service': 'shared', 'status': 'ok'}))\""
      ]
    },
    {
      "name": "workflow_generation",
      "prompt_key": "ci_platform",
      "default_state": "none",
      "selected_state": "{{ ci_platform }}",
      "description": "GitHub Actions CI/CD workflows with quality checks, matrix testing, caching, and artifacts.",
      "dependencies": ["actionlint"],
      "docs_path": "docs/modules/workflows.md",
      "ci_jobs": ["python-quality", "python-matrix", "matrix-summary"],
      "validation_commands": [
        "actionlint .github/workflows/riso-quality.yml",
        "actionlint .github/workflows/riso-matrix.yml"
      ],
      "features": [
        "Automated quality validation (ruff, mypy, pylint, pytest)",
        "Matrix testing across Python 3.11, 3.12, 3.13",
        "Dependency caching with 70%+ hit rate target",
        "90-day artifact retention",
        "Conditional Node.js job support",
        "Retry logic with exponential backoff"
      ]
    },
    {
      "name": "changelog_release",
      "prompt_key": "changelog_module",
      "default_state": "disabled",
      "selected_state": "{{ 'enabled' if changelog_module | lower == 'enabled' else 'disabled' }}",
      "description": "Automated changelog generation and release management with semantic versioning, conventional commits, and registry publishing.",
      "dependencies": ["commitlint", "semantic-release", "commitizen"],
      "docs_path": "docs/modules/changelog-release.md",
      "ci_jobs": ["release"],
      "validation_commands": [
        "uv run python scripts/release/validate-commit.py",
        "npx semantic-release --dry-run"
      ],
      "features": [
        "Conventional commit message enforcement via Git hooks",
        "Automatic semantic versioning based on commit types",
        "Human-readable changelog generation with categorized changes",
        "GitHub Release creation with version tags",
        "Breaking change detection with migration guide templates",
        "Multi-registry publishing (PyPI, npm, Docker Hub)",
        "Monorepo support with independent package versioning",
        "Pre-release version support (alpha, beta, rc)",
        "Release process completion in <10 minutes",
        "Comprehensive logging with correlation IDs"
      ]
    }
  ]
}
