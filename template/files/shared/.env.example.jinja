# {{ project_name }} Environment Variables
# Copy this file to .env and customize for your environment

## General Configuration
ENVIRONMENT=development  # development, staging, production
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

{%- if api_tracks | lower in ["python", "python+node"] %}

## FastAPI Configuration
RISO_API_SERVICE_NAME={{ project_slug }}-api
RISO_API_HOST=127.0.0.1
RISO_API_PORT=8000
RISO_API_RELOAD=false  # Enable hot reload in development only
RISO_API_LOG_LEVEL=info

{%- if rate_limiting_enabled | default(false) %}

## Rate Limiting Configuration
## Override config.toml settings with environment variables

# Master switch for rate limiting
RATE_LIMIT_ENABLED=true

# Default rate limit for all endpoints
RATE_LIMIT_DEFAULT_LIMIT=100  # requests per window
RATE_LIMIT_DEFAULT_WINDOW=60  # seconds

# Algorithm selection
RATE_LIMIT_ALGORITHM=token_bucket  # token_bucket or sliding_window

# Failure mode when Redis is unavailable
RATE_LIMIT_FAILURE_MODE=fail_open  # fail_open or fail_closed

# Client identification (X-Forwarded-For parsing)
RATE_LIMIT_TRUSTED_PROXY_DEPTH=1  # 0=direct, 1=single LB, 2=CDN+LB

# Redis connection
REDIS_URL=redis://localhost:6379/0
# For password-protected Redis:
# REDIS_URL=redis://:password@localhost:6379/0

# Configuration file path (optional)
# RATE_LIMIT_CONFIG_PATH=./config.toml

{%- endif %}
{%- endif %}

{%- if include_databases == "yes" %}

## Database Configuration
DATABASE_URL=postgresql://riso:dev_password@localhost:5432/riso_db
POSTGRES_USER=riso
POSTGRES_PASSWORD=dev_password
POSTGRES_DB=riso_db
POSTGRES_PORT=5432

## Redis Configuration (for caching and rate limiting)
REDIS_URL=redis://:dev_password@localhost:6379/0
REDIS_PASSWORD=dev_password
REDIS_PORT=6379

{%- elif rate_limiting_enabled | default(false) %}

## Redis Configuration (for rate limiting)
# Single instance (development/testing)
REDIS_URL=redis://localhost:6379/0
REDIS_PORT=6379

# Redis Sentinel (production - high availability)
# REDIS_URL=redis://sentinel1:26379,sentinel2:26379,sentinel3:26379/mymaster
# REDIS_SENTINEL_SERVICE_NAME=mymaster

{%- endif %}

{%- if docs_site in ["fumadocs", "docusaurus"] %}

## Documentation Site Configuration
DOCS_PORT=3001
DOCS_BASE_URL=http://localhost:3001

{%- endif %}

## Security (Production)
## IMPORTANT: Never commit real secrets to version control
## Use secret management service (AWS Secrets Manager, HashiCorp Vault, etc.)

# JWT_SECRET_KEY=your-secret-key-here  # Generate with: openssl rand -hex 32
# API_KEY=your-api-key-here

## Monitoring & Observability

# Prometheus metrics endpoint
METRICS_ENABLED=true

# Structured logging format
LOG_FORMAT=json  # json or console

## Development Flags

# Enable debug mode (verbose logging, detailed errors)
DEBUG=false

# Disable SSL verification (development only - NEVER in production)
# SSL_VERIFY=false

## Notes

# 1. Copy this file to .env and customize for your environment
# 2. Never commit .env file to version control (it's gitignored by default)
# 3. Use different .env files for different environments (.env.development, .env.production)
# 4. In production, use secret management service instead of .env files
# 5. Validate environment variables at application startup
